package monster;

import java.util.Vector;

import javax.swing.JFrame;

import SpriteSheet.SpriteSheet;
import character.Character;
import character.Isaac;
import lombok.Data;
import objectSize.IsaacSize;
import objectSize.StructureSize;
import objectSize.WormSize;
import structure.Rock;

@Data

public class Monster extends Character{
	private final static String TAG = "Monster : ";
	
	private Isaac isaac;
	private SpriteSheet monster;
	private boolean moveStart = false;
	private boolean isAttacking = false;
	private String url;
	private int imgWidth, imgHeight;
	
	private Vector<Rock> rock;

	public Monster(JFrame app, Isaac isaac, Vector<Rock> rock, String url, int imgWidth, int imgHeight) {
		super(app);
		this.isaac = isaac;
		this.rock = rock;
		this.imgWidth = imgWidth;
		this.imgHeight = imgHeight;
		this.url = url;
	}
	public void init() {
	}
	public void setting() {
		
	}
	public void batch() {
		
	}
	public void moveDirectCheck() {
		// 오른쪽 
		if(getXChar() + WormSize.WIDTH < getIsaac().getXChar() + 15) {
			setRight(true);
		} else {
			setRight(false);
		}
		// 왼쪽
		if(getXChar() > getIsaac().getXChar() + IsaacSize.HEADWIDTH - 15) {
			setLeft(true);
		} else {
			setLeft(false);
		}
		// 아래쪽
		if(getYChar() + WormSize.HEIGHT < getIsaac().getYChar() + 15) {
			setDown(true);
		}else {
			setDown(false);
		}
		// 위쪽
		if(getYChar() > getIsaac().getYChar() + IsaacSize.HEADHEIGHT ) {
			setUp(true);
		}else {
			setUp(false);
		}
	}
	public void collisionRock() {
		for(int i = 0; i < rock.size(); i++) {
			// 오른쪽으로 이동중일 때 
			if(getXChar() + getImgWidth() > rock.get(i).getXStructure() && getXChar() + getImgWidth() < rock.get(i).getXStructure() + StructureSize.WIDTH 
				&& getYChar() + getImgHeight() > rock.get(i).getYStructure() && getYChar() < rock.get(i).getYStructure() + StructureSize.HEIGHT) {
				setRight(false);
			}
			// 왼쪽으로 이동중일때
			if(getXChar() > rock.get(i).getXStructure() && getXChar()< rock.get(i).getXStructure() + StructureSize.WIDTH 
				&& getYChar() + getImgHeight() > rock.get(i).getYStructure() && getYChar() < rock.get(i).getYStructure() + StructureSize.HEIGHT) {
				setLeft(false);
			}
			// 아래쪽으로 이동중 일때
			if(getXChar() + getImgWidth() > rock.get(i).getXStructure() && getXChar() < rock.get(i).getXStructure() + StructureSize.WIDTH 
				&& getYChar() + getImgHeight() > rock.get(i).getYStructure() && getYChar() < rock.get(i).getYStructure() + StructureSize.HEIGHT) {
				setDown(false);
			}
			// 위쪽으로 이동중 일때
			if(getXChar() + getImgWidth() > rock.get(i).getXStructure() && getXChar() < rock.get(i).getXStructure() + StructureSize.WIDTH 
				&& getYChar() > rock.get(i).getYStructure() && getYChar() < rock.get(i).getYStructure() + StructureSize.HEIGHT) {
				setUp(false);
			}
		}
	}

}
